---
title: 在MySQL查询中转换UTC时区为本地时区
---

在 MySQL 的timestamp时间戳中不能存储时区数据，需要查询端来转换成想要的时区.

MySQL 提供了一个 `CONVERT_TZ` 函数来做时间转换．

比如我们把 UTC 时间转成本地时间(Asia/Shanghai 时区)

```sql
MariaDB [airflow]> SELECT CONVERT_TZ('2021-02-02 16:00:00','UTC','Asia/Shanghai');
+---------------------------------------------------------+
| CONVERT_TZ('2021-02-02 16:00:00','UTC','Asia/Shanghai') |
+---------------------------------------------------------+
| 2021-02-03 00:00:00                                     |
+---------------------------------------------------------+
1 row in set (0.001 sec)

MariaDB [airflow]> -- 通过偏移转换
MariaDB [airflow]> SELECT CONVERT_TZ('2021-02-02 16:00:00','+00:00','+08:00');
+-----------------------------------------------------+
| CONVERT_TZ('2021-02-02 16:00:00','+00:00','+08:00') |
+-----------------------------------------------------+
| 2021-02-03 00:00:00                                 |
+-----------------------------------------------------+
1 row in set (0.001 sec)
```
